function LoginView(){function e(){var e=Ti.Network.createHTTPClient({onload:function(){Ti.API.info(this.responseText),P.image==p+"checkOn.png"?t(JSON.parse(this.responseText)):P.image==p+"checkOff.png"&&i(JSON.parse(this.responseText))},onerror:function(e){Ti.API.info(e.error+" "+JSON.stringify(e)),alert("Invalid Email Or Password")},timeout:5e3});params={email:I.value.toLowerCase(),password:h.value},e.open("POST",f),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("charset","utf-8"),e.send(JSON.stringify(params)),Ti.API.info(JSON.stringify(params))}function t(e){var t=e;t.email=I.value.toLowerCase(),t.password=h.value,Ti.App.Properties.setString("email",I.value.toLowerCase()),Ti.App.Properties.setString("pass",h.value),Ti.App.Properties.setObject("userCred",t),Ti.App.Properties.setBool("loggedIn",!0),Ti.fireEvent("loadBack"),r.animate({opacity:0,duration:750},function(){r=null}),Ti.fireEvent("mainmenu")}function i(e){var t=e;t.email=I.value.toLowerCase(),t.password=h.value,Ti.App.Properties.setObject("userCred",t),Ti.App.Properties.setBool("loggedIn",!1),Ti.fireEvent("loadBack"),r.animate({opacity:0,duration:750},function(){r=null}),Ti.fireEvent("mainmenu")}function a(){P.image==p+"checkOn.png"?P.image=p+"checkOff.png":P.image==p+"checkOff.png"&&(P.image=p+"checkOn.png")}var r=Ti.UI.createView({backgroundColor:"#23b823",height:Ti.Platform.displayCaps.platformHeight,width:Ti.Platform.displayCaps.platformWidth,bottom:-Ti.Platform.displayCaps.platformHeight});r.animate({bottom:"0dp",duration:750});var n={fontFamily:"HelveticaNeue-Thin",fontSize:"28dp",color:"#fff"},o={fontFamily:"HelveticaNeue-Thin",fontSize:"18dp",color:"#fff"},d={fontFamily:"HelveticaNeue-Thin",fontSize:"14dp",color:"#fff"},s={fontFamily:"HelveticaNeue-Thin",fontSize:"18dp",color:"#fff"},p="/images/login/",c=Ti.UI.createView({height:"30dp",width:"40dp",center:{y:"40dp"}});r.add(c);var l=Ti.UI.createImageView({image:p+"arrow.png"});c.add(l);var T="/api/appUsers/login",m=Ti.App.Properties.getString("apiURL","http://104.131.124.227:3000"),f=m+T,g=Ti.UI.createImageView({image:p+"welcome.png",center:{y:"100dp"}});r.add(g);var u=Ti.UI.createLabel({text:"Welcome Back",font:n,color:"white",center:{y:"100dp"}});r.add(g),r.add(u);var I=Ti.UI.createTextField({backgroundImage:p+"user.png",hintText:"EMAIL",font:o,width:"229.5dp",height:"28.5dp",paddingLeft:"35dp",color:"white"}),h=Ti.UI.createTextField({backgroundImage:p+"pass.png",hintText:"PASSWORD",font:o,width:"229.5dp",height:"28.5dp",top:"28.5dp",paddingLeft:"35dp",color:"white",passwordMask:!0}),A=Ti.UI.createImageView({image:p+"loginbtn.png",height:"47dp",width:"170.5dp"}),w=Ti.UI.createLabel({text:"LOGIN",font:n,color:"white"}),v=Ti.UI.createButton({height:"47dp",width:"170.5dp",top:"28.5dp"});v.add(A),v.add(w);var P=Ti.UI.createImageView({image:p+"checkOn.png",height:"9dp"}),y=Ti.UI.createLabel({text:"Keep me logged in",font:d,color:"white",left:"5dp",height:"20dp"}),U=Ti.UI.createLabel({text:"Forgot Password",font:d,color:"white",left:"10dp",height:"20dp"}),S=Ti.UI.createView({width:"234dp",top:"14dp",height:"20dp",layout:"horizontal"}),E=Ti.UI.createView({width:Ti.UI.SIZE,height:"20dp",layout:"horizontal"});E.add(P),E.add(y),S.add(E),S.add(U);var L=Ti.UI.createScrollView({width:"235dp",layout:"vertical",height:"195dp",center:{y:"50%"}});L.add(I),L.add(h),L.add(v),L.add(S),r.add(L);var N=Ti.UI.createLabel({text:"Don't have an account? ",font:s,color:"white"}),b=Ti.UI.createLabel({text:"Sign Up",font:s,color:"yellow"}),O=Titanium.UI.createView({width:Ti.UI.SIZE,layout:"horizontal",bottom:"25dp",height:"20dp"});return O.add(N),O.add(b),r.add(O),y.addEventListener("click",a),P.addEventListener("click",a),O.addEventListener("click",function(){r.animate({bottom:-Ti.Platform.displayCaps.platformHeight,duration:750},function(){r=null}),Ti.fireEvent("signup")}),r.add(O),v.addEventListener("click",function(){I.blur(),h.blur(),e()}),c.addEventListener("click",function(){r.animate({bottom:-Ti.Platform.displayCaps.platformHeight,duration:750},function(){r=null}),Ti.fireEvent("closeLogin")}),U.addEventListener("click",function(){passDialog=Titanium.UI.createAlertDialog({title:"Please Enter your email address",style:Ti.UI.iPhone.AlertDialogStyle.PLAIN_TEXT_INPUT,buttonNames:["OK"]}),passDialog.show()}),r}module.exports=LoginView;